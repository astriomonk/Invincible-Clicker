<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Invincible Clicker</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <style>
    html, body {
      touch-action: manipulation;
      -ms-touch-action: manipulation;
      overscroll-behavior: none;
    }

    body {
      margin: 0;
      font-family: sans-serif;
      background: url('sky-image.png') no-repeat center center fixed;
      background-size: cover;
      color: white;
      text-align: center;
      overflow-x: hidden;
    }

    h1 {
      background-color: yellow;
      color: black;
      font-size: 3em;
      margin: 0;
      padding: 20px;
    }

    .counter {
      font-size: 2.5em;
      margin: 20px 0;
    }

    .click-img {
      width: 300px;
      max-width: 80vw;
      cursor: pointer;
    }

    .button {
      font-size: 1.5em;
      padding: 10px 20px;
      margin: 10px;
      border: none;
      border-radius: 10px;
      cursor: pointer;
    }

    .top-buttons {
      position: absolute;
      top: 10px;
      width: 100%;
      display: flex;
      justify-content: space-between;
      padding: 0 20px;
      box-sizing: border-box;
    }

    .shop-container {
      display: none;
      background: rgba(0, 0, 0, 0.8);
      padding: 20px;
      margin: 20px auto;
      max-width: 500px;
      border-radius: 15px;
    }

    .shop-container.visible {
      display: block;
    }

    .upgrade {
      margin: 15px 0;
      font-size: 1.2em;
    }

    .bottom-buttons {
      position: fixed;
      bottom: 10px;
      width: 100%;
      display: flex;
      justify-content: center;
      gap: 20px;
      z-index: 1000;
    }

    @media (max-width: 600px) {
      .button {
        font-size: 1.2em;
        padding: 8px 16px;
      }

      .counter {
        font-size: 2em;
      }
    }
  </style>
</head>
<body>

  <div class="top-buttons">
    <button class="button" onclick="saveGame()">Save</button>
    <button class="button" onclick="toggleShop()">Shop</button>
  </div>

  <h1 id="game-title">Invincible Clicker</h1>

  <div class="counter" id="pointsDisplay">Omni-Points: 0</div>

  <img src="Omni.png" alt="Clicker Image" id="character" class="click-img">

  <div class="shop-container" id="shop">
    <div class="upgrade">
      <p>+1 Points Per Click - Cost: 10</p>
      <button class="button" onclick="buyUpgrade('clickPower')">Buy</button>
    </div>
    <div class="upgrade">
      <p>+1 <span id="rateLabel">OPS</span> - Cost: 25</p>
      <button class="button" onclick="buyUpgrade('autoClick')">Buy</button>
    </div>
    <div class="upgrade">
      <p>+5 <span id="rateLabel2">OPS</span> - Cost: 100</p>
      <button class="button" onclick="buyUpgrade('bigAutoClick')">Buy</button>
    </div>
    <button class="button" onclick="toggleShop()">Clicker</button>
  </div>

  <div class="bottom-buttons">
    <button class="button" onclick="toggleVersion()">Kids Version</button>
    <button class="button" onclick="resetGame()">Reset</button>
  </div>

  <audio id="omniSound" src="are-you-sure.mp3"></audio>
  <audio id="markSound" src="pretty-sure.mp3"></audio>
  <audio id="buttonClickSound" src="are-you-sure.mp3"></audio>

  <script>
    document.addEventListener('gesturestart', function (e) {
      e.preventDefault();
    });

    let points = 0;
    let clickPower = 1;
    let rate = 0;
    let isKids = false;

    const pointsDisplay = document.getElementById('pointsDisplay');
    const character = document.getElementById('character');
    const rateLabel = document.getElementById('rateLabel');
    const rateLabel2 = document.getElementById('rateLabel2');
    const shop = document.getElementById('shop');

    const omniSound = document.getElementById('omniSound');
    const markSound = document.getElementById('markSound');
    const buttonClickSound = document.getElementById('buttonClickSound');

    function playButtonSound() {
      buttonClickSound.currentTime = 0;
      buttonClickSound.play();
    }

    function updateUI() {
      pointsDisplay.textContent = isKids ? `Mark-Points: ${points}` : `Omni-Points: ${points}`;
    }

    character.addEventListener("click", () => {
      points += clickPower;
      updateUI();
      if (isKids) {
        markSound.currentTime = 0;
        markSound.play();
      } else {
        omniSound.currentTime = 0;
        omniSound.play();
      }
    });

    function toggleVersion() {
      playButtonSound();
      isKids = !isKids;
      character.src = isKids ? "invincible-head.png.png" : "Omni.png";
      rateLabel.textContent = isKids ? "MPS" : "OPS";
      rateLabel2.textContent = isKids ? "MPS" : "OPS";
      updateUI();
    }

    function toggleShop() {
      playButtonSound();
      shop.classList.toggle("visible");
    }

    function buyUpgrade(type) {
      playButtonSound();
      if (type === 'clickPower' && points >= 10) {
        clickPower++;
        points -= 10;
      } else if (type === 'autoClick' && points >= 25) {
        rate += 1;
        points -= 25;
      } else if (type === 'bigAutoClick' && points >= 100) {
        rate += 5;
        points -= 100;
      }
      updateUI();
    }

    function saveGame() {
      localStorage.setItem("invPoints", points);
      localStorage.setItem("invClickPower", clickPower);
      localStorage.setItem("invRate", rate);
      localStorage.setItem("invKids", isKids);
      alert("Game Saved!");
    }

    function resetGame() {
      localStorage.clear();
      location.reload();
    }

    function loadGame() {
      points = parseInt(localStorage.getItem("invPoints")) || 0;
      clickPower = parseInt(localStorage.getItem("invClickPower")) || 1;
      rate = parseInt(localStorage.getItem("invRate")) || 0;
      isKids = localStorage.getItem("invKids") === "true";
      if (isKids) toggleVersion();
      updateUI();
    }

    setInterval(() => {
      points += rate;
      updateUI();
    }, 1000);

    setInterval(() => {
      saveGame();
    }, 10000); // Auto-save every 10 seconds

    loadGame();
  </script>

</body>
</html>
